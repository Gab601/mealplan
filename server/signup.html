<html>
  <head>
  <title>Mealplan Signup</title>
  <style>
table {
  border-collapse: collapse;
}
th {
  padding: 4px 8px;
  width: 12em;
}
td {
  padding: 8;
  border: 1px solid black;
  text-align: center;
}
h2 {
  margin:0.5em;
  text-align:center;
}
.note {
  font-size: 1.5em;
  font-style: italic;
}
.week1 {
  padding: 1em;
}
.week2 {
  background-color: #eeeeee;
  padding: 1em;
}
.usual {
  text-decoration: line-through;
}
  </style>
  </head>
  <body>
    <h1>IAP Mealplan</h1>
    <p class="note">NOTE: If you'd like to change your assignment, please email <a href="mailto:yfnkm@mit.edu">yfnkm@mit.edu</a> </p>
    <div class="week2">
    <h2>IAP Signup</h2>
    {{if .Unauth}}<p style="font-style: italic;">(Log in with a certificate if you want to claim a slot)</p>{{end}}
    <form action="/claim" method="POST">
      <table>
        <tr>
          <th></th>
          {{range .Days}}
          <th>{{.}}</th>
          {{end}}
        </tr>
        {{$ass := .Assignments}}
        {{$unauth := .Unauth}}
        {{range $duty := .Duties}}<tr><th>{{$duty}}</th>
          {{range $dayindex, $assignee := (index $ass $duty)}}
          <td>
            {{if $assignee}}
            {{if ne $assignee "_"}}
            <button disabled>{{$assignee}}</button>
            {{end}}
            {{else if $unauth}}
            {{else}}
            <button name="claim/{{$duty}}/{{$dayindex}}">Claim!</button>
            {{end}}
          </td>
          {{end}}
        </tr>{{end}}
      </table>
    </form>
    </div>
  </body>
</html>
